<%- include('components/clientHeader', { pageTitle: 'Client Dashboard' }) %>

<div style="width: 100%; display: flex;">
    <div class="status-section" style="flex: 1; padding: 20px;">
        <h2>Status of Previous Tickets</h2>
        <ul>
            <% if (previousTickets.length > 0) { %>
                <% previousTickets.forEach(ticket => { %>
                    <li>
                        <p>Ticket ID: <%= ticket.ticketId %></p>
                        <p>Category: <%= ticket.categories %></p>
                        <p>Status: <%= ticket.status %></p>
                        <p>Solution: <%= ticket.solution || 'Not available' %></p>
                    </li>
                <% }); %>
            <% } else { %>
                <p>No previous tickets.</p>
            <% } %>
        </ul>
    </div>
    <div style="flex: 1; padding: 20px; "> 
    <H2>Generate New Ticket:</H2>
       <img src="gen.png" alt="Ticket Generation Image" style="max-width: 100%;">
       <form id="newTicketForm" action="/newTicketForm" method="post">
        <label for="categories">Problem Category:</label>
        <select class="form-select" name="categories" required>
            <option value="" disabled selected>Select a category</option>
            <option value="one">One</option>
            <option value="two">Two</option>
            <option value="three">Three</option>
        </select>
        
        <label for="problemDescription">Problem Description:</label>
        <textarea class="form-control" name="problemDescription" rows="4" required></textarea>
        
        <button type="submit" class="submit-button">Submit</button>
    </form>
    
    </div>
</div>

<%- include('components/footer', { currentYear: new Date().getFullYear() }) %>
